![ë¡œê³ 2](https://github.com/seoyounglee0105/green_airline_project/assets/106488607/45885ada-932d-4640-93a8-4a84d451bb9c)




<br>

## ğŸš€ í”„ë¡œì íŠ¸ ê°œìš”
- í•´ë‹¹ í”„ë¡œì íŠ¸ëŠ” ë³´ì•ˆì— ì·¨ì•½í•˜ê²Œ ì œì‘í•œ green_airline_project í”„ë¡œì íŠ¸ë¥¼ ëŒ€ìƒìœ¼ë¡œ ì‹œíì–´ ì½”ë”©ì„ ì§„í–‰í•œ <b>ì•ˆì „í•œ ë²„ì „</b>ì˜ ì›¹ì‚¬ì´íŠ¸ ì½”ë“œì…ë‹ˆë‹¤.
-   ì›ë˜ì˜ ì˜¤í”ˆì†ŒìŠ¤ URL : https://github.com/seoyounglee0105/green_airline_project.git
-   ì·¨ì•½í•œ ë²„ì „ì˜ ì›¹ í”„ë¡œì íŠ¸ URL : https://github.com/hw20200500/green_airline_project.git
- í”„ë¡œì íŠ¸ ê¸°ê°„ : 2024ë…„ 10ì›” 2ì¼ ~ 


<br> 



## 1ï¸âƒ£ ë°œê²¬ëœ ì·¨ì•½ì 
<table>
    <thead>
        <tr>
            <th>No.</th>
            <th>ë°œê²¬ëœ ì·¨ì•½ì </th>
            <th>ì˜í–¥ë„</th>
            <th>CVSS</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>01</td>
            <td>ìš´ì˜ì²´ì œ ëª…ë ¹ ì‹¤í–‰</td>
            <td>Critical</td>
            <td>10.0</td>
        </tr>
        <tr>
            <td>02</td>
            <td>SQL ì¸ì ì…˜</td>
            <td>Critical</td>
            <td>9.4</td>
        </tr>
        <tr>
            <td>03</td>
            <td>ì •ë³´ ëˆ„ì¶œ</td>
            <td>Medium</td>
            <td>5.3</td>
        </tr>
        <tr>
            <td>04</td>
            <td>í¬ë¡œìŠ¤ì‚¬ì´íŠ¸ ìŠ¤í¬ë¦½íŒ…</td>
            <td>Critical</td>
            <td>8.1</td>
        </tr>
        <tr>
            <td>05</td>
            <td>ì•½í•œ ë¬¸ìì—´ ê°•ë„</td>
            <td>Medium</td>
            <td>6.5</td>
        </tr>
        <tr>
            <td>06</td>
            <td>ë¶ˆì¶©ë¶„í•œ ì¸ì¦</td>
            <td>High</td>
            <td>7.5</td>
        </tr>
        <tr>
            <td>07</td>
            <td>ì·¨ì•½í•œ íŒ¨ìŠ¤ì›Œë“œ ë³µêµ¬</td>
            <td>Medium</td>
            <td>4.8</td>
        </tr>
        <tr>
            <td>08</td>
            <td>ì•…ì„± ì½˜í…ì¸ </td>
            <td>Medium</td>
            <td>4.3</td>
        </tr>
        <tr>
            <td>09</td>
            <td>í¬ë¡œìŠ¤ì‚¬ì´íŠ¸ ë¦¬í€˜ìŠ¤íŠ¸ ë³€ì¡°(CSRF)</td>
            <td>High</td>
            <td>8.0</td>
        </tr>
        <tr>
            <td>10</td>
            <td>ë¶ˆì¶©ë¶„í•œ ì¸ê°€</td>
            <td>High</td>
            <td>8.2</td>
        </tr>
        <tr>
            <td>11</td>
            <td>ìë™í™” ê³µê²©</td>
            <td>Medium</td>
            <td>5.3</td>
        </tr>
        <tr>
            <td>12</td>
            <td>í”„ë¡œì„¸ìŠ¤ ê²€ì¦ ëˆ„ë½</td>
            <td>High</td>
            <td>7.2</td>
        </tr>
        <tr>
            <td>13</td>
            <td>íŒŒì¼ ì—…ë¡œë“œ</td>
            <td>Critical</td>
            <td>10.0</td>
        </tr>
        <tr>
            <td>14</td>
            <td>íŒŒì¼ ë‹¤ìš´ë¡œë“œ</td>
            <td>High</td>
            <td>8.6</td>
        </tr>
        <tr>
            <td>15</td>
            <td>ê´€ë¦¬ì í˜ì´ì§€ ë…¸ì¶œ</td>
            <td>Medium</td>
            <td>5.3</td>
        </tr>
    </tbody>
</table>

    
<br>

## 2ï¸âƒ£ ì‹œíì–´ ì½”ë”© ê²°ê³¼
<head>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        td {
            width: 50%;
            text-align: center;
            vertical-align: middle;
            padding: 10px;
            border: 1px solid #ddd;
        }
    </style>
</head>
<h3>01. ìš´ì˜ì²´ì œ ëª…ë ¹ ì‹¤í–‰</h3>
<p>- ìˆ˜ì • ëŒ€ìƒ: app.py</p>
<p>Flaskì˜ render_template_stringì„ render_templateìœ¼ë¡œ ë³€ê²½</p>
<img src="https://github.com/user-attachments/assets/318dd94b-6cf3-4742-8326-a250caa95aff" alt="Original Code">

<table>
    <tr>
        <th width="50%" vertical-align="middle">ìˆ˜ì • ì „</th>
        <th width="50%" vertical-align="middle">ìˆ˜ì • í›„</th>
    </tr>
    <tr>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/e37f0d8e-8663-4bdd-bc4e-37fb53384758" alt="Before Change"></td>
        <td width="50%" vertical-align="middle">ìˆ˜ì • í›„ ì´ë¯¸ì§€</td>
    </tr>
</table>

<h3>02. SQL ì¸ì ì…˜</h3>
<p>- ìˆ˜ì • ëŒ€ìƒ: src\main\resources\mapper\*.xml</p>
<p>ê¸°ì¡´ì˜ ë™ì  íŒŒë¼ë¯¸í„° ë°”ì¸ë”©(ì˜ˆ: '&{keyword}')ì—ì„œ ì •ì  íŒŒë¼ë¯¸í„° ë°”ì¸ë”©(ì˜ˆ: #{keyword})ìœ¼ë¡œ ë³€ê²½</p>

<table>
    <tr>
        <th width="50%" vertical-align="middle">ìˆ˜ì • ì „</th>
        <th width="50%" vertical-align="middle">ìˆ˜ì • í›„</th>
    </tr>
    <tr>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/e4271ab9-68e4-419f-8276-635137f266d0" alt="Before Change SQL Injection"></td>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/1f64db92-e2d6-40e6-8474-68e3a82d6105" alt="After Change SQL Injection"></td>
    </tr>
</table>

<h3>03. ì •ë³´ ëˆ„ì¶œ</h3>
<p>- ìˆ˜ì • ëŒ€ìƒ: src/main/java/com/green/airline/handler/GlobalExceptionHandler.java</p>
<p>ëª¨ë“  ì˜¤ë¥˜ì— ëŒ€í•´ ì§€ì •í•œ ì˜¤ë¥˜ í˜ì´ì§€(layout/errorPage)ë¡œ ì´ë™í•˜ë„ë¡ ë³€ê²½</p>

<h3>04. XSS</h3>
<p>- ìˆ˜ì • ëŒ€ìƒ: src/main/java/com/green/airline/controller/BoardController.java, src/main/java/com/green/airline/XssFilter.java</p>
<p>â€˜StringEscapeUtils.escapeHtml()â€™ì„ ì´ìš©í•˜ì—¬ ëª¨ë“  ì…ë ¥ê°’ì„ ë‹¨ìˆœ ë¬¸ìì—´ë¡œ ì €ì¥ë˜ë„ë¡ ë³€ê²½</p>

<table>
    <tr>
        <th width="50%" vertical-align="middle">ìˆ˜ì • ì „</th>
        <th width="50%" vertical-align="middle">ìˆ˜ì • í›„</th>
    </tr>
    <tr>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/0312b742-b752-4357-b411-4cf6e0537a53" alt="Before Change XSS"></td>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/310d5d5d-6f2a-4e01-beb9-ed915adae686" alt="After Change XSS"></td>
    </tr>
</table>

<h3>05. ì•½í•œ ë¬¸ìì—´ ê°•ë„</h3>
<p>- ìˆ˜ì • ëŒ€ìƒ: </p>

<table>
    <tr>
        <th width="50%" vertical-align="middle">ìˆ˜ì • ì „</th>
        <th width="50%" vertical-align="middle">ìˆ˜ì • í›„</th>
    </tr>
    <tr>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/0312b742-b752-4357-b411-4cf6e0537a53" alt="Before Change Weak String"></td>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/310d5d5d-6f2a-4e01-beb9-ed915adae686" alt="After Change Weak String"></td>
    </tr>
</table>

<h3>06. ë¶ˆì¶©ë¶„í•œ ì¸ì¦, 10. ë¶ˆì¶©ë¶„í•œ ì¸ê°€</h3>
<p>- ìˆ˜ì • ëŒ€ìƒ: src/main/java/com/green/airline/utils/Define.java</p>
<p>ê´€ë¦¬ìë¡œ ë¡œê·¸ì¸ í›„ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í˜ì´ì§€ ëª©ë¡ì— ê³µì§€ì‚¬í•­ ê²Œì‹œê¸€ ì‘ì„±(/notice/write), ìˆ˜ì •(/notice/noticeUpdate), ì‚­ì œ(/notice/noticeDelete), ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•œ ì „ì²´ ê³ ê°ì˜ ë§ì”€ ê²Œì‹œê¸€ ëª©ë¡(/voc/list/not/*, /voc/list/processed/*) URI ì¶”ê°€</p>

<table>
    <tr>
        <th width="50%" vertical-align="middle">ìˆ˜ì • ì „</th>
        <th width="50%" vertical-align="middle">ìˆ˜ì • í›„</th>
    </tr>
    <tr>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/e314bb7d-bfe5-4a3b-9830-eaa9010dced0" alt="Before Change Insufficient Authorization"></td>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/96084c11-106c-495e-a749-2f3527dec243" alt="After Change Insufficient Authorization"></td>
    </tr>
</table>

<h3>07. ì·¨ì•½í•œ íŒ¨ìŠ¤ì›Œë“œ ë³µêµ¬</h3>
- ìˆ˜ì • ëŒ€ìƒ : src/main/java/com/green/airline/controller/UserApiController.java, src/main/webapp/WEB-INF/view/user/userPwSearch.jsp
- ê¸°ì¡´ì˜ ì´ë©”ì¼ ì¸ì¦í•œ ë’¤, jspì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ì•½í•œ ë¬¸ìì—´ë¡œ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë°œê¸‰í•´ì£¼ëŠ” ë°©ì‹ì—ì„œ ìë°” ë°±ì—”ë“œì—ì„œ ëœë¤ ë¬¸ìì—´ë¡œ ì„ì‹œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë°œê¸‰í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½
<br>
<table>
    <tr>
        <th width="50%" vertical-align="middle">ìˆ˜ì • ì „</th>
        <th width="50%" vertical-align="middle">ìˆ˜ì • í›„</th>
    </tr>
    <tr>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/a7756017-3a03-4ca2-a53c-6817afe023c5"/></td>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/994d789f-6af2-4bef-8ed1-922f19dd6d47"/></td>
    </tr>
</table>

<h3>08. ì•…ì„± ì½˜í…ì¸ , 13. íŒŒì¼ ì—…ë¡œë“œ</h3>
- ìˆ˜ì • ëŒ€ìƒ : src/main/java/com/green/airline/controller/BoardController.java, src/main/java/com/green/airline/controller/ImageUploadController.java
- ëª¨ë“  ìœ í˜•ì˜ íŒŒì¼ì´ ì—…ë¡œë“œ ê°€ëŠ¥í–ˆë˜ ê¸°ì¡´ ë°©ì‹ì—ì„œ jpg, png, jpeg íŒŒì¼ë§Œ ì—…ë¡œë“œ ê°€ëŠ¥í•˜ë„ë¡ ìˆ˜ì •
<br>
<table>
    <tr>
        <th  width="50%" vertical-align="middle">ìˆ˜ì • ì „</th>
        <th  width="50%" vertical-align="middle">ìˆ˜ì • í›„</th>
    </tr>
    <tr>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/01bab206-699d-4e0f-8dde-9f4d67c73130"/></td>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/4cabbc8c-a374-4344-a0dc-059a2ac58fef"/></td>
    </tr>
</table>

<h3>11. ìë™í™” ê³µê²©</h3>
<p>- ìˆ˜ì • ëŒ€ìƒ :</p>
<br>
<table>
    <tr>
        <th width="50%" vertical-align="middle">ìˆ˜ì • ì „</th>
        <th width="50%" vertical-align="middle">ìˆ˜ì • í›„</th>
    </tr>
    <tr>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/17fbda86-f5e3-4b2a-a95b-2f1d09ef5576"/></td>
        <td width="50%" vertical-align="middle"><img src=""/></td>
    </tr>
</table>

<h3>12. í”„ë¡œì„¸ìŠ¤ ê²€ì¦ ëˆ„ë½</h3>
- ìˆ˜ì • ëŒ€ìƒ : src/main/java/com/green/airline/controller/ProductController.java
- /buyProductì— ì ‘ê·¼í•  ë•Œ, DBì— ì €ì¥ëœ ì‹¤ì œ ë¬¼í’ˆ ê°€ê²©ê³¼ ì „ë‹¬ë°›ì€ êµ¬ë§¤ ë¬¼í’ˆì˜ ê°€ê²©ì´ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ 'ê°€ê²© ë³€ì¡°ê°€ íƒì§€ë˜ì–´ ê²°ì œê°€ ë¶ˆê°€í•©ë‹ˆë‹¤.'ë¼ëŠ” ê²½ê³ ì°½ ì¶œë ¥ í›„ ê²°ì œ í”„ë¡œì„¸ìŠ¤ ì¤‘ë‹¨í•˜ë„ë¡ ìˆ˜ì •
<br>
<table>
    <tr>
        <th width="50%" vertical-align="middle">ìˆ˜ì • ì „</th>
        <th width="50%" vertical-align="middle">ìˆ˜ì • í›„</th>
    </tr>
    <tr>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/32745158-9d37-43a8-8738-8438441f01dd"/></td>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/10b558b3-b4b4-47ad-bebf-54e201c7d500"/></td>
    </tr>
</table>

<h3>14. íŒŒì¼ ë‹¤ìš´ë¡œë“œ</h3>
- ìˆ˜ì • ëŒ€ìƒ :
<br>
<table>
    <tr>
        <th width="50%" vertical-align="middle">ìˆ˜ì • ì „</th>
        <th width="50%" vertical-align="middle">ìˆ˜ì • í›„</th>
    </tr>
    <tr>
        <td width="50%" vertical-align="middle"><img src="https://github.com/user-attachments/assets/155f300e-3d73-4db6-a71e-c9195f6fd5f6"/></td>
        <td width="50%" vertical-align="middle"><img src=""/></td>
    </tr>
</table>


